# binville

This repository contains the source code for [binville.com](http://binville.com/).

binville is a comic strip written and illustrated by Kellan Goode, a 5th grader,
and this project is a fun way to teach him some practical technology skills.

The web site is static content, generated by [Hexo](hexo.io) using the
[zzoman2015](https://github.com/reumia/hexo-theme-zzoman2015) theme. It is
hosted by [GitHub Pages](https://pages.github.com/) in the
[binville.github.io](https://github.com/binville/binville.github.io) repository.

The rest of this document covers directions intended for Kellan and anyone else
invited to author content here.

## Getting Started

In order to make changes to the web site, you need to get a few things set up first.
You'll only need to do these things once. (More details on what each of these mean
will come later.)

1. Create a [GitHub account](https://github.com/join)
2. Ask me for an invitation to the [binville organization](https://github.com/binville)
3. Install git, Node.js, and the Atom text editor on your local computer
4. Download this repository on your computer with the following command:

    ```
    git clone git@github.com:binville/binville.git binville
    ```

5. Create an ssh key pair on your computer and add the public key to your GitHub account

## Adding a New Strip

Here's the process for adding a new strip to the web site:

1. Draw the strip!

    Each strip should consist of one or more rectangles of the same size. 7" x 4"
    should work. Could possibly be larger. Use a template or ruler. Once you have
    your strip rectangles, you can divide them into panels any way you'd like, but
    make sure it looks neat and leaves enough room for dialog and characters/scenery.
    Use a ruler to make straight lines when appropriate.

    Don't forget to sign the strip!

2. Scan the strip as a `.png` file, e.g. `binville003.png`
3. Crop the strip
4. Copy the cropped `.png` file to your local `source` directory of this repo
5. Add a new "post" by running the following command:

    ```
    npm run newpost -- <next_number>
    ```

    For instance, if the last published strip was number 2, then you would add
    the next one as number 3 like this:

    ```
    npm run newpost -- 3
    ```

    This will create a Markdown file under `source/_posts`, like `3.md`.

6. Open this repo in Atom (i.e. `atom .`) and edit the new Markdown file

    Find the new `.md` file under `source/_posts`. Add an `<img/>` HTML tag
    to the bottom of the file and point to the strip's `.png` file, like this:

    ```
    <img alt="Caption goes here" src="/binville003.png">
    ```

    Change the alt text caption to something relevant to the strip.

    Add appropriate `tags` and `categories` to the "frontmatter" section of the
    Markdown file. The "frontmatter" section is at the top between the dashed
    lines, like this:

    ```
    ---
    title: 2
    date: 2016-01-04 22:08:51
    tags:
    - don
    - dick
    categories:
    - detective work
    ---
    ```

7. Run the web site on your computer and test the new page

    Use these commands to start a simple Node.js server with the web site:

    ```
    npm run regen
    npm start
    ```

    Then test the web site in Chrome at this address: http://localhost:4000

    If things don't look quite right, edit the Markdown file and refresh the page
    in Chrome. If you think it looks good, continue to step 8.

8. Commit the source code changes to a new branch, push the branch to GitHub, and open a new pull request

    Use the following commands, replacing `<new_branch_name>` with something like `add-strip-3`
    and replacing `some relevant message` with something like `add strip 3`:

    ```
    git checkout master
    git pull origin master
    git checkout -b <new_branch_name>
    git add .
    git commit -m 'some relevant message' .
    git push -u origin <new_branch_name>
    ```

    Then go to https://github.com/binville/binville in Chrome and [create a new
    pull request](https://help.github.com/articles/creating-a-pull-request/) so
    we can review your changes and get them added to the master branch.

9. Once your pull request is merged, you can publish a new version of the web site

    Update your local master branch first:

    ```
    git checkout master
    git pull origin master
    git remote prune origin
    git branch -d <branch_name_used_above>
    ```

    Then publish the web site with this command:

    ```
    npm run deploy
    ```

    Visit http://binville.com in Chrome and make sure your new strip is there. Done!
